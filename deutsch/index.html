<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deutsche Verb Konjugator</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Custom CSS -->
    <style>
      :root {
        --primary-color: #2c3e50;
        --secondary-color: #3498db;
        --accent-color: #e74c3c;
        --success-color: #27ae60;
        --warning-color: #f39c12;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f8f9fa;
        color: var(--primary-color);
      }

      .header {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        padding: 2rem 0;
        margin-bottom: 2rem;
      }

      .card {
        border: none;
        border-radius: 15px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
      }

      .verb-item {
        background: white;
        border-radius: 10px;
        padding: 1rem;
        margin-bottom: 0.5rem;
        border-left: 4px solid var(--secondary-color);
        transition: all 0.3s ease;
      }

      .verb-item:hover {
        background-color: #f8f9fa;
        border-left-color: var(--accent-color);
      }

      .conjugation-table {
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .conjugation-table th {
        background-color: var(--primary-color);
        color: white;
        font-weight: 500;
      }

      .btn-custom {
        border-radius: 25px;
        padding: 0.5rem 1.5rem;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .btn-primary-custom {
        background-color: var(--secondary-color);
        border: none;
      }

      .btn-primary-custom:hover {
        background-color: #2980b9;
        transform: translateY(-1px);
      }

      .btn-success-custom {
        background-color: var(--success-color);
        border: none;
      }

      .btn-success-custom:hover {
        background-color: #229954;
        transform: translateY(-1px);
      }

      .form-check-input:checked {
        background-color: var(--secondary-color);
        border-color: var(--secondary-color);
      }

      .loading {
        display: none;
        text-align: center;
        padding: 2rem;
      }

      .spinner-border {
        color: var(--secondary-color);
      }

      .alert-custom {
        border-radius: 10px;
        border: none;
      }

      .tense-checkbox {
        margin-right: 1rem;
        margin-bottom: 0.5rem;
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 1.8rem;
        }

        .btn-custom {
          width: 100%;
          margin-bottom: 0.5rem;
        }

        .conjugation-table {
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h1><i class="fas fa-book-open"></i> Deutsche Verb Konjugator</h1>
            <p class="mb-0">
              Professionelle Verbkonjugation für Deutschlernende
            </p>
          </div>
          <div class="col-md-4 text-md-end">
            <button
              class="btn btn-outline-light btn-custom"
              onclick="showHelp()"
            >
              <i class="fas fa-question-circle"></i> Hilfe
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- Main Interface -->
      <div class="row">
        <!-- Left Column - Verb Input and List -->
        <div class="col-lg-4 mb-4">
          <div class="card">
            <div class="card-header bg-primary text-white">
              <h5 class="mb-0">
                <i class="fas fa-plus-circle"></i> Verb Hinzufügen
              </h5>
            </div>
            <div class="card-body">
              <form id="verbForm">
                <div class="mb-3">
                  <label for="verbInput" class="form-label"
                    >Verb (Infinitiv)</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="verbInput"
                    placeholder="z.B. gehen, machen, lernen"
                    required
                  />
                  <div class="form-text">
                    Geben Sie ein deutsches Verb im Infinitiv ein.
                  </div>
                </div>
                <div class="mb-3">
                  <label for="turkishMeaning" class="form-label"
                    >Türkische Bedeutung (Optional)</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="turkishMeaning"
                    placeholder="z.B. gitmek, yapmak, öğrenmek"
                  />
                </div>
                <button
                  type="submit"
                  class="btn btn-primary-custom btn-custom w-100"
                >
                  <i class="fas fa-plus"></i> Verb Hinzufügen
                </button>
              </form>
            </div>
          </div>

          <!-- Verb List -->
          <div class="card mt-4">
            <div
              class="card-header bg-secondary text-white d-flex justify-content-between align-items-center"
            >
              <h5 class="mb-0"><i class="fas fa-list"></i> Verbliste</h5>
              <span class="badge bg-light text-dark" id="verbCount">0</span>
            </div>
            <div class="card-body" style="max-height: 400px; overflow-y: auto">
              <div id="verbList"></div>
              <div class="text-center mt-3">
                <button
                  class="btn btn-outline-danger btn-sm"
                  onclick="clearAllVerbs()"
                >
                  <i class="fas fa-trash"></i> Alle Löschen
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Column - Tense Selection and Output -->
        <div class="col-lg-8">
          <!-- Tense Selection -->
          <div class="card mb-4">
            <div class="card-header bg-info text-white">
              <h5 class="mb-0">
                <i class="fas fa-cog"></i> Konjugationsoptionen
              </h5>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <h6>Zeiten Auswählen:</h6>
                  <div class="form-check tense-checkbox">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="prasens"
                      checked
                    />
                    <label class="form-check-label" for="prasens"
                      >Präsens</label
                    >
                  </div>
                  <div class="form-check tense-checkbox">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="perfekt"
                      checked
                    />
                    <label class="form-check-label" for="perfekt"
                      >Perfekt</label
                    >
                  </div>
                  <div class="form-check tense-checkbox">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="prateritum"
                    />
                    <label class="form-check-label" for="prateritum"
                      >Präteritum</label
                    >
                  </div>
                  <div class="form-check tense-checkbox">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="plusquamperfekt"
                    />
                    <label class="form-check-label" for="plusquamperfekt"
                      >Plusquamperfekt</label
                    >
                  </div>
                </div>
                <div class="col-md-6">
                  <h6>&nbsp;</h6>
                  <div class="form-check tense-checkbox">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="futur1"
                    />
                    <label class="form-check-label" for="futur1">Futur I</label>
                  </div>
                  <div class="form-check tense-checkbox">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="futur2"
                    />
                    <label class="form-check-label" for="futur2"
                      >Futur II</label
                    >
                  </div>
                  <div class="form-check tense-checkbox">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      id="turkish"
                      checked
                    />
                    <label class="form-check-label" for="turkish"
                      >Türkische Bedeutung</label
                    >
                  </div>
                </div>
              </div>

              <div class="row mt-3">
                <div class="col-md-6">
                  <button
                    class="btn btn-success-custom btn-custom w-100"
                    onclick="conjugateAllVerbs()"
                  >
                    <i class="fas fa-sync-alt"></i> Alle Konjugieren
                  </button>
                </div>
                <div class="col-md-6">
                  <div class="d-grid gap-2">
                    <button
                      class="btn btn-outline-primary btn-custom"
                      onclick="exportAsText()"
                    >
                      <i class="fas fa-file-alt"></i> Als Text Exportieren
                    </button>
                    <button
                      class="btn btn-outline-success btn-custom"
                      onclick="exportAsExcel()"
                    >
                      <i class="fas fa-file-excel"></i> Als Excel Exportieren
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Loading Spinner -->
          <div class="loading" id="loadingSpinner">
            <div class="spinner-border" role="status">
              <span class="visually-hidden">Laden...</span>
            </div>
            <p class="mt-2">Verben werden konjugiert...</p>
          </div>

          <!-- Results -->
          <div id="conjugationResults"></div>
        </div>
      </div>
    </div>

    <!-- Help Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              <i class="fas fa-question-circle"></i> Bedienungsanleitung
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <h6>So verwenden Sie den Verb Konjugator:</h6>
            <ol>
              <li>
                <strong>Verb Hinzufügen:</strong> Geben Sie ein deutsches Verb
                im Infinitiv ein (z.B. "gehen", "machen", "lernen").
              </li>
              <li>
                <strong>Türkische Bedeutung:</strong> Fügen Sie optional die
                türkische Übersetzung hinzu.
              </li>
              <li>
                <strong>Zeiten Auswählen:</strong> Wählen Sie die gewünschten
                Zeitformen aus.
              </li>
              <li>
                <strong>Konjugieren:</strong> Klicken Sie auf "Alle Konjugieren"
                um die Verben zu konjugieren.
              </li>
              <li>
                <strong>Exportieren:</strong> Exportieren Sie die Ergebnisse als
                Text oder Excel-Datei.
              </li>
            </ol>
            <hr />
            <h6>Unterstützte Zeitformen:</h6>
            <ul>
              <li>
                <strong class="notranslate">Präsens:</strong> Ich gehe, du
                gehst, er/sie/es geht...
              </li>
              <li>
                <strong class="notranslate">Perfekt:</strong> Ich bin gegangen,
                du bist gegangen...
              </li>
              <li>
                <strong class="notranslate">Präteritum:</strong> Ich ging, du
                gingst, er/sie/es ging...
              </li>
              <li>
                <strong class="notranslate">Plusquamperfekt:</strong> Ich war
                gegangen, du warst gegangen...
              </li>
              <li>
                <strong class="notranslate">Futur I:</strong> Ich werde gehen,
                du wirst gehen...
              </li>
              <li>
                <strong class="notranslate">Futur II:</strong> Ich werde
                gegangen sein, du wirst gegangen sein...
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- SheetJS for Excel Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <div class="gtranslate_wrapper"></div>
    <script>
      window.gtranslateSettings = {
        default_language: "tr",
        native_language_names: true,
        detect_browser_language: true,
        languages: ["tr", "de", "en"],
        wrapper_selector: ".gtranslate_wrapper",
      };
    </script>
    <script
      src="https://cdn.gtranslate.net/widgets/latest/float.js"
      defer
    ></script>

    <script>
      // Global variables
      let verbList = [];
      let conjugationData = {};

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        loadFromLocalStorage();
        updateVerbList();
      });

      // Verb form submission
      document
        .getElementById("verbForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          addVerb();
        });

      // Add verb to list
      function addVerb() {
        const verbInput = document.getElementById("verbInput");
        const turkishInput = document.getElementById("turkishMeaning");

        const verb = verbInput.value.trim().toLowerCase();
        const turkish = turkishInput.value.trim();

        if (!verb) {
          showAlert("Bitte geben Sie ein Verb ein!", "warning");
          return;
        }

        // Check if verb already exists
        if (verbList.some((v) => v.verb === verb)) {
          showAlert("Dieses Verb existiert bereits in der Liste!", "warning");
          return;
        }

        verbList.push({
          verb: verb,
          turkish: turkish,
          id: Date.now(),
        });

        verbInput.value = "";
        turkishInput.value = "";

        updateVerbList();
        saveToLocalStorage();
        showAlert("Verb erfolgreich hinzugefügt!", "success");
      }

      // Update verb list display
      function updateVerbList() {
        const verbListDiv = document.getElementById("verbList");
        const verbCount = document.getElementById("verbCount");

        verbCount.textContent = verbList.length;

        if (verbList.length === 0) {
          verbListDiv.innerHTML =
            '<p class="text-muted text-center">Keine Verben vorhanden</p>';
          return;
        }

        verbListDiv.innerHTML = verbList
          .map(
            (item) => `
                <div class="verb-item d-flex justify-content-between align-items-center">
                    <div>
                        <strong>${item.verb}</strong>
                        ${
                          item.turkish
                            ? `<small class="text-muted">(${item.turkish})</small>`
                            : ""
                        }
                    </div>
                    <button class="btn btn-sm btn-outline-danger" onclick="removeVerb(${
                      item.id
                    })">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `
          )
          .join("");
      }

      // Remove verb from list
      function removeVerb(id) {
        verbList = verbList.filter((verb) => verb.id !== id);
        updateVerbList();
        saveToLocalStorage();
        showAlert("Verb entfernt!", "info");
      }

      // Clear all verbs
      function clearAllVerbs() {
        if (confirm("Möchten Sie wirklich alle Verben löschen?")) {
          verbList = [];
          conjugationData = {};
          updateVerbList();
          document.getElementById("conjugationResults").innerHTML = "";
          saveToLocalStorage();
          showAlert("Alle Verben wurden gelöscht!", "info");
        }
      }

      // Get selected tenses
      function getSelectedTenses() {
        const tenses = [];
        const tenseMap = {
          prasens: "PRASENS",
          perfekt: "PERFEKT",
          prateritum: "PRATERITUM",
          plusquamperfekt: "PLUSQUAMPERFEKT",
          futur1: "FUTUR1",
          futur2: "FUTUR2",
        };

        Object.keys(tenseMap).forEach((key) => {
          if (document.getElementById(key).checked) {
            tenses.push(tenseMap[key]);
          }
        });

        return tenses;
      }

      // Conjugate all verbs
      async function conjugateAllVerbs() {
        const selectedTenses = getSelectedTenses();

        if (verbList.length === 0) {
          showAlert("Bitte fügen Sie zuerst Verben hinzu!", "warning");
          return;
        }

        if (selectedTenses.length === 0) {
          showAlert(
            "Bitte wählen Sie mindestens eine Zeitform aus!",
            "warning"
          );
          return;
        }

        showLoading(true);
        conjugationData = {};

        try {
          for (const verbItem of verbList) {
            const conjugations = await conjugateVerb(
              verbItem.verb,
              selectedTenses
            );
            conjugationData[verbItem.verb] = {
              conjugations: conjugations,
              turkish: verbItem.turkish,
            };
          }

          displayConjugations();
          showAlert("Konjugation erfolgreich!", "success");
        } catch (error) {
          console.error("Konjugationsfehler:", error);
          showAlert(
            "Fehler bei der Konjugation. Bitte versuchen Sie es erneut.",
            "danger"
          );
        } finally {
          showLoading(false);
        }
      }

      async function conjugateVerb(verb, tenses) {
        try {
          const apiURL = `https://german-verbs-api.onrender.com/german-verbs-api?verb=${encodeURIComponent(
            verb
          )}`;
          const response = await fetch(apiURL);
          if (!response.ok) throw new Error(`HTTP ${response.status}`);

          const data = await response.json();
          const tensesData = data.data || data.tenses || {};

          const result = {};
          tenses.forEach((t) => {
            if (tensesData[t]) {
              const tenseObj = tensesData[t];
              const combinedForms = Object.values(tenseObj).map((parts) =>
                parts.join(" ")
              );
              result[t] = combinedForms;
            }
          });

          return result;
        } catch (error) {
          console.warn(`API error for ${verb}:`, error);
          return getFallbackConjugation(verb, tenses);
        }
      }

      // Fallback conjugation for common verbs
      function getFallbackConjugation(verb, tenses) {
        const fallbackData = {
          gehen: {
            PRASENS: ["gehe", "gehst", "geht", "gehen", "geht", "gehen"],
            PERFEKT: [
              "bin gegangen",
              "bist gegangen",
              "ist gegangen",
              "sind gegangen",
              "seid gegangen",
              "sind gegangen",
            ],
            PRATERITUM: ["ging", "gingst", "ging", "gingen", "gingt", "gingen"],
            PLUSQUAMPERFEKT: [
              "war gegangen",
              "warst gegangen",
              "war gegangen",
              "waren gegangen",
              "wart gegangen",
              "waren gegangen",
            ],
            FUTUR1: [
              "werde gehen",
              "wirst gehen",
              "wird gehen",
              "werden gehen",
              "werdet gehen",
              "werden gehen",
            ],
            FUTUR2: [
              "werde gegangen sein",
              "wirst gegangen sein",
              "wird gegangen sein",
              "werden gegangen sein",
              "werdet gegangen sein",
              "werden gegangen sein",
            ],
          },
          machen: {
            PRASENS: ["mache", "machst", "macht", "machen", "macht", "machen"],
            PERFEKT: [
              "habe gemacht",
              "hast gemacht",
              "hat gemacht",
              "haben gemacht",
              "habt gemacht",
              "haben gemacht",
            ],
            PRATERITUM: [
              "machte",
              "machtest",
              "machte",
              "machten",
              "machtet",
              "machten",
            ],
            PLUSQUAMPERFEKT: [
              "hatte gemacht",
              "hattest gemacht",
              "hatte gemacht",
              "hatten gemacht",
              "hattet gemacht",
              "hatten gemacht",
            ],
            FUTUR1: [
              "werde machen",
              "wirst machen",
              "wird machen",
              "werden machen",
              "werdet machen",
              "werden machen",
            ],
            FUTUR2: [
              "werde gemacht haben",
              "wirst gemacht haben",
              "wird gemacht haben",
              "werden gemacht haben",
              "werdet gemacht haben",
              "werden gemacht haben",
            ],
          },
        };

        const result = {};
        tenses.forEach((tense) => {
          if (fallbackData[verb] && fallbackData[verb][tense]) {
            result[tense] = fallbackData[verb][tense];
          } else {
            // Generic fallback
            result[tense] = ["-", "-", "-", "-", "-", "-"];
          }
        });

        return result;
      }

      // Display conjugations
      function displayConjugations() {
        const resultsDiv = document.getElementById("conjugationResults");
        const pronouns = ["ich", "du", "er/sie/es", "wir", "ihr", "sie/Sie"];
        const tenseNames = {
          PRASENS: "Präsens",
          PERFEKT: "Perfekt",
          PRATERITUM: "Präteritum",
          PLUSQUAMPERFEKT: "Plusquamperfekt",
          FUTUR1: "Futur I",
          FUTUR2: "Futur II",
        };

        let html = "";

        Object.keys(conjugationData).forEach((verb) => {
          const data = conjugationData[verb];
          const turkishText = data.turkish
            ? ` <small class="text-muted">(${data.turkish})</small>`
            : "";

          html += `
                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0"><strong>${verb}</strong>${turkishText}</h5>
                        </div>
                        <div class="card-body">
                `;

          Object.keys(data.conjugations).forEach((tense) => {
            html += `
                        <h6 class="text-primary mb-2">${tenseNames[tense]}</h6>
                        <div class="table-responsive mb-3">
                            <table class="table table-sm conjugation-table">
                                <thead>
                                    <tr>
                                        <th>Pronomen</th>
                                        <th>Konjugation</th>
                                    </tr>
                                </thead>
                                <tbody>
                    `;

            data.conjugations[tense].forEach((form, index) => {
              html += `
                            <tr>
                                <td><strong>${pronouns[index]}</strong></td>
                                <td>${form}</td>
                            </tr>
                        `;
            });

            html += `
                                </tbody>
                            </table>
                        </div>
                    `;
          });

          html += `
                        </div>
                    </div>
                `;
        });

        resultsDiv.innerHTML = html;
      }

      // Export functions
      function exportAsText() {
        if (Object.keys(conjugationData).length === 0) {
          showAlert("Keine Konjugationsdaten vorhanden!", "warning");
          return;
        }

        let text = "DEUTSCHE VERB KONJUGATIONEN\n";
        text += "=====================================\n\n";

        const pronouns = ["ich", "du", "er/sie/es", "wir", "ihr", "sie/Sie"];
        const tenseNames = {
          PRASENS: "Präsens",
          PERFEKT: "Perfekt",
          PRATERITUM: "Präteritum",
          PLUSQUAMPERFEKT: "Plusquamperfekt",
          FUTUR1: "Futur I",
          FUTUR2: "Futur II",
        };

        Object.keys(conjugationData).forEach((verb) => {
          const data = conjugationData[verb];
          text += `${verb.toUpperCase()}`;
          if (data.turkish) text += ` (${data.turkish})`;
          text += "\n";
          text += "-".repeat(40) + "\n";

          Object.keys(data.conjugations).forEach((tense) => {
            text += `\n${tenseNames[tense]}:\n`;
            data.conjugations[tense].forEach((form, index) => {
              text += `${pronouns[index]}: ${form}\n`;
            });
          });

          text += "\n\n";
        });

        downloadFile(text, "verb_konjugationen.txt", "text/plain");
        showAlert("Text-Export erfolgreich!", "success");
      }

      function exportAsExcel() {
        if (Object.keys(conjugationData).length === 0) {
          showAlert("Keine Konjugationsdaten vorhanden!", "warning");
          return;
        }

        const wb = XLSX.utils.book_new();
        const pronouns = ["ich", "du", "er/sie/es", "wir", "ihr", "sie/Sie"];
        const tenseNames = {
          PRASENS: "Präsens",
          PERFEKT: "Perfekt",
          PRATERITUM: "Präteritum",
          PLUSQUAMPERFEKT: "Plusquamperfekt",
          FUTUR1: "Futur I",
          FUTUR2: "Futur II",
        };

        Object.keys(conjugationData).forEach((verb) => {
          const data = conjugationData[verb];
          const wsData = [];

          // Header
          wsData.push([`${verb}${data.turkish ? ` (${data.turkish})` : ""}`]);
          wsData.push([]);

          Object.keys(data.conjugations).forEach((tense) => {
            wsData.push([tenseNames[tense]]);
            wsData.push(["Pronomen", "Konjugation"]);

            data.conjugations[tense].forEach((form, index) => {
              wsData.push([pronouns[index], form]);
            });

            wsData.push([]);
          });

          const ws = XLSX.utils.aoa_to_sheet(wsData);
          XLSX.utils.book_append_sheet(wb, ws, verb);
        });

        XLSX.writeFile(wb, "verb_konjugationen.xlsx");
        showAlert("Excel-Export erfolgreich!", "success");
      }

      // Utility functions
      function downloadFile(content, filename, contentType) {
        const blob = new Blob([content], { type: contentType });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }

      function showAlert(message, type) {
        const alertDiv = document.createElement("div");
        alertDiv.className = `alert alert-${type} alert-custom alert-dismissible fade show`;
        alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;

        document.body.insertBefore(alertDiv, document.body.firstChild);

        setTimeout(() => {
          alertDiv.remove();
        }, 5000);
      }

      function showLoading(show) {
        document.getElementById("loadingSpinner").style.display = show
          ? "block"
          : "none";
      }

      function showHelp() {
        new bootstrap.Modal(document.getElementById("helpModal")).show();
      }

      // Local storage functions
      function saveToLocalStorage() {
        localStorage.setItem("verbList", JSON.stringify(verbList));
      }

      function loadFromLocalStorage() {
        const saved = localStorage.getItem("verbList");
        if (saved) {
          verbList = JSON.parse(saved);
        }
      }

      // Keyboard shortcuts
      document.addEventListener("keydown", function (e) {
        if (e.ctrlKey && e.key === "Enter") {
          conjugateAllVerbs();
        }
      });
    </script>
  </body>
</html>
